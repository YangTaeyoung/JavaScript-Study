<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>주소 선택</title>
		<script>
		/*
		 * 1. 링크를 선택하면, 선택된 문자열을 id="addr"인 입력 상자에 출력하고,
		 		포커스를 이동시키시오.
		 */
			function myaddr(obj){ // a태그 안에 있는 값을 text창으로 이동시켜주는 역할을 한다.
				console.log("function 진입 :" + obj);
				document.getElementById("addr").value = obj.innerHTML; //HTML태그 안에 있는 값
				document.getElementById("addr").focus(); // 키보드로 바로 입력할 수 있게끔 어그로끄는 역할
			}
		/*
		 * 2. 확인 버튼을 클릭하면, id="addr"에 입력된 문자열을 이 팝업 윈도우를 호출한 부모 윈도우(브라우저)의
		 		id="addr"인 입력 상자에 출력하시오.
		 		[힌트] 호출한 부모 윈도우는 opener 객체를 통해 접근할 수 있다.
		 */
		 
			function toCalledWindow(){ // 전의 페이지 addr text에 넣어주는 역할을 할 것임
				var addValue = document.getElementById("addr").value; // 현재 창에 있는 text, addr을 의미한다.
				window.opener.document.getElementById("addr").value = addValue; // 새로운 창을 생성했던 부모 창을 참조할 수 있음. 따라서 addr은 현재 창의 addr을 나타내는 것이 아니다.
				self.close();//창을 끈다.
			}
		</script>
	</head>
	<body>
		<a href="#" onclick="myaddr(this)">인천 남구 용현동</a><br> <!-- this는 자기 자신의 객체, 즉 a태그 속에 있는 element-->
		<a href="#" onclick="myaddr(this)">인천 남구 용현동 인하대학교</a><br>
		<a href="#" onclick="myaddr(this)">인천 남구 용현동 기숙사</a><br>
		<br>
		<p>선택 주소</p>
		<input type="text" id="addr" size="30">
		<p align="right"><input type="button" value="확인" onclick="toCalledWindow()">
	</body>
</html>